<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <button id="btn">Buscar</button>
    </div>
    <div>
        <img id="img" src="" alt="">
    </div>
    <script>

        async function buscar_api(){
            const url = "https://dog.ceo/api/breeds/image/random";
            // fetch(url)
            // .then( response => {
            //     return response.json();
            // })
            // .then(dados => {
            //     console.log(dados);
            // })
            // .catch(error => {
            //     console.log(error)
            // })
            // .finally( () => {
            //     console.log("Terminou")
            // })

            //async e o await
            try{
                const response = await fetch(url)
                const dados = await response.json()
                console.log(dados);
                exibir_imagem(dados["message"]);
            }catch(e){
                console.log(e)
            }  
        }

        function exibir_imagem(url_imagem){
            document.querySelector('#img').src = url_imagem;
        }

        document.getElementById('btn').addEventListener('click', buscar_api);

    </script>
</body>
</html>